{"ast":null,"code":"import React,{useState}from'react';import{useParams}from'react-router-dom';import{Play,Send,Code,Copy,Check,ChevronDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const APIPlayground=()=>{const{apiId}=useParams();const[selectedMethod,setSelectedMethod]=useState('GET');const[endpoint,setEndpoint]=useState('');const[requestBody,setRequestBody]=useState('');const[response,setResponse]=useState(null);const[copied,setCopied]=useState(false);const methods=['GET','POST','PUT','DELETE','PATCH'];const handleSendRequest=async()=>{// Simulated API call\nsetResponse({status:200,data:{message:\"Success\",timestamp:new Date().toISOString()}});};const handleCopyResponse=()=>{if(response){navigator.clipboard.writeText(JSON.stringify(response,null,2));setCopied(true);setTimeout(()=>setCopied(false),2000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900\",children:\"API Playground\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Test API endpoints and explore responses\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-32\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Method\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedMethod,onChange:e=>setSelectedMethod(e.target.value),className:\"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md\",children:methods.map(method=>/*#__PURE__*/_jsx(\"option\",{value:method,children:method},method))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Endpoint\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:endpoint,onChange:e=>setEndpoint(e.target.value),placeholder:\"/api/v1/resource\",className:\"block w-full px-3 py-2 text-sm border border-gray-300 rounded-md\"})]})]}),selectedMethod!=='GET'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Request Body\"}),/*#__PURE__*/_jsx(\"textarea\",{value:requestBody,onChange:e=>setRequestBody(e.target.value),rows:5,className:\"block w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-mono\",placeholder:\"{\\\\n  'key': 'value'\\\\n}\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendRequest,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(Send,{className:\"h-4 w-4 mr-2\"}),\"Send Request\"]})})]})}),response&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-medium text-gray-900\",children:\"Response\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCopyResponse,className:\"inline-flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-900\",children:[copied?/*#__PURE__*/_jsx(Check,{className:\"h-4 w-4 mr-1\"}):/*#__PURE__*/_jsx(Copy,{className:\"h-4 w-4 mr-1\"}),copied?'Copied!':'Copy']})]}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-gray-50 p-4 rounded-md overflow-x-auto\",children:/*#__PURE__*/_jsx(\"code\",{className:\"text-sm text-gray-800\",children:JSON.stringify(response,null,2)})})]})]});};export default APIPlayground;","map":{"version":3,"names":["React","useState","useParams","Play","Send","Code","Copy","Check","ChevronDown","jsx","_jsx","jsxs","_jsxs","APIPlayground","apiId","selectedMethod","setSelectedMethod","endpoint","setEndpoint","requestBody","setRequestBody","response","setResponse","copied","setCopied","methods","handleSendRequest","status","data","message","timestamp","Date","toISOString","handleCopyResponse","navigator","clipboard","writeText","JSON","stringify","setTimeout","className","children","value","onChange","e","target","map","method","type","placeholder","rows","onClick"],"sources":["/home/ubuntu/OpsCanvas-IDP/frontend/src/pages/api-management/components/APIPlayground.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { \n  Play, \n  Send, \n  Code, \n  Copy, \n  Check,\n  ChevronDown \n} from 'lucide-react';\n\nconst APIPlayground = () => {\n  const { apiId } = useParams();\n  const [selectedMethod, setSelectedMethod] = useState('GET');\n  const [endpoint, setEndpoint] = useState('');\n  const [requestBody, setRequestBody] = useState('');\n  const [response, setResponse] = useState(null);\n  const [copied, setCopied] = useState(false);\n\n  const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'];\n\n  const handleSendRequest = async () => {\n    // Simulated API call\n    setResponse({\n      status: 200,\n      data: {\n        message: \"Success\",\n        timestamp: new Date().toISOString()\n      }\n    });\n  };\n\n  const handleCopyResponse = () => {\n    if (response) {\n      navigator.clipboard.writeText(JSON.stringify(response, null, 2));\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-lg font-semibold text-gray-900\">API Playground</h1>\n        <p className=\"text-sm text-gray-500\">Test API endpoints and explore responses</p>\n      </div>\n\n      {/* Request Builder */}\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <div className=\"space-y-4\">\n          {/* Method & Endpoint */}\n          <div className=\"flex space-x-4\">\n            <div className=\"w-32\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Method\n              </label>\n              <select\n                value={selectedMethod}\n                onChange={(e) => setSelectedMethod(e.target.value)}\n                className=\"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md\"\n              >\n                {methods.map(method => (\n                  <option key={method} value={method}>{method}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"flex-1\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Endpoint\n              </label>\n              <input\n                type=\"text\"\n                value={endpoint}\n                onChange={(e) => setEndpoint(e.target.value)}\n                placeholder=\"/api/v1/resource\"\n                className=\"block w-full px-3 py-2 text-sm border border-gray-300 rounded-md\"\n              />\n            </div>\n          </div>\n\n          {/* Request Body */}\n          {selectedMethod !== 'GET' && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Request Body\n              </label>\n              <textarea\n                value={requestBody}\n                onChange={(e) => setRequestBody(e.target.value)}\n                rows={5}\n                className=\"block w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-mono\"\n                placeholder=\"{\\n  'key': 'value'\\n}\"\n              />\n            </div>\n          )}\n\n          {/* Send Button */}\n          <div>\n            <button\n              onClick={handleSendRequest}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              <Send className=\"h-4 w-4 mr-2\" />\n              Send Request\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Response Section */}\n      {response && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-sm font-medium text-gray-900\">Response</h2>\n            <button\n              onClick={handleCopyResponse}\n              className=\"inline-flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-900\"\n            >\n              {copied ? (\n                <Check className=\"h-4 w-4 mr-1\" />\n              ) : (\n                <Copy className=\"h-4 w-4 mr-1\" />\n              )}\n              {copied ? 'Copied!' : 'Copy'}\n            </button>\n          </div>\n          <pre className=\"bg-gray-50 p-4 rounded-md overflow-x-auto\">\n            <code className=\"text-sm text-gray-800\">\n              {JSON.stringify(response, null, 2)}\n            </code>\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default APIPlayground;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
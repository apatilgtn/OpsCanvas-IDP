{"ast":null,"code":"// src/components/kubernetes/KubernetesDashboard.jsx\nimport React,{useState,useEffect}from'react';import{Server,Database,Box,Shield,AlertCircle,CheckCircle,XCircle,RefreshCw}from'lucide-react';import ClusterOverview from'./ClusterOverview';import NamespaceManager from'./NamespaceManager';import WorkloadMonitoring from'./WorkloadMonitoring';import HelmChartManager from'./HelmChartManager';import RBACManager from'./RBACManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KubernetesDashboard=()=>{const[activeTab,setActiveTab]=useState('clusters');const[clusterData,setClusterData]=useState({clusters:[],loading:true,error:null});// Mock data for demonstration\nconst mockClusterData={clusters:[{id:'cluster-1',name:'production-cluster',provider:'AKS',status:'healthy',version:'1.25.6',nodes:5,cpu:{used:65,total:100},memory:{used:75,total:128},pods:{running:48,total:60},health:{status:'Healthy',lastCheck:'2024-03-04T10:30:00Z',issues:[]}},{id:'cluster-2',name:'staging-cluster',provider:'GKE',status:'warning',version:'1.24.12',nodes:3,cpu:{used:45,total:60},memory:{used:35,total:64},pods:{running:28,total:40},health:{status:'Warning',lastCheck:'2024-03-04T10:30:00Z',issues:['High memory usage in node-2']}}]};useEffect(()=>{// Simulate API call\nconst fetchClusters=async()=>{try{// In real implementation, this would be an API call\nawait new Promise(resolve=>setTimeout(resolve,1000));setClusterData({clusters:mockClusterData.clusters,loading:false,error:null});}catch(error){setClusterData(prev=>({...prev,loading:false,error:'Failed to fetch cluster data'}));}};fetchClusters();},[]);const tabs=[{id:'clusters',label:'Clusters',icon:Server},{id:'namespaces',label:'Namespaces',icon:Box},{id:'workloads',label:'Workloads',icon:Database},{id:'helm',label:'Helm Charts',icon:Box},{id:'rbac',label:'RBAC',icon:Shield}];const renderContent=()=>{switch(activeTab){case'clusters':return/*#__PURE__*/_jsx(ClusterOverview,{clusters:clusterData.clusters});case'namespaces':return/*#__PURE__*/_jsx(NamespaceManager,{});case'workloads':return/*#__PURE__*/_jsx(WorkloadMonitoring,{});case'helm':return/*#__PURE__*/_jsx(HelmChartManager,{});case'rbac':return/*#__PURE__*/_jsx(RBACManager,{});default:return/*#__PURE__*/_jsx(ClusterOverview,{clusters:clusterData.clusters});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8\",children:tabs.map(tab=>{const Icon=tab.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:`\n                    group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm\n                    ${activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\n                  `,children:[/*#__PURE__*/_jsx(Icon,{className:\"mr-2 h-5 w-5\"}),tab.label]},tab.id);})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow\",children:clusterData.loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 text-blue-500 animate-spin\"})}):clusterData.error?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-64 text-red-500\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-6 h-6 mr-2\"}),clusterData.error]}):renderContent()})]});};export default KubernetesDashboard;","map":{"version":3,"names":["React","useState","useEffect","Server","Database","Box","Shield","AlertCircle","CheckCircle","XCircle","RefreshCw","ClusterOverview","NamespaceManager","WorkloadMonitoring","HelmChartManager","RBACManager","jsx","_jsx","jsxs","_jsxs","KubernetesDashboard","activeTab","setActiveTab","clusterData","setClusterData","clusters","loading","error","mockClusterData","id","name","provider","status","version","nodes","cpu","used","total","memory","pods","running","health","lastCheck","issues","fetchClusters","Promise","resolve","setTimeout","prev","tabs","label","icon","renderContent","className","children","map","tab","Icon","onClick"],"sources":["/home/ubuntu/OpsCanvas-IDP/frontend/src/components/kubernetes/KubernetesDashboard.jsx"],"sourcesContent":["// src/components/kubernetes/KubernetesDashboard.jsx\nimport React, { useState, useEffect } from 'react';\nimport { \n  Server, \n  Database, \n  Box, \n  Shield, \n  AlertCircle,\n  CheckCircle,\n  XCircle,\n  RefreshCw\n} from 'lucide-react';\nimport ClusterOverview from './ClusterOverview';\nimport NamespaceManager from './NamespaceManager';\nimport WorkloadMonitoring from './WorkloadMonitoring';\nimport HelmChartManager from './HelmChartManager';\nimport RBACManager from './RBACManager';\n\nconst KubernetesDashboard = () => {\n  const [activeTab, setActiveTab] = useState('clusters');\n  const [clusterData, setClusterData] = useState({\n    clusters: [],\n    loading: true,\n    error: null\n  });\n\n  // Mock data for demonstration\n  const mockClusterData = {\n    clusters: [\n      {\n        id: 'cluster-1',\n        name: 'production-cluster',\n        provider: 'AKS',\n        status: 'healthy',\n        version: '1.25.6',\n        nodes: 5,\n        cpu: { used: 65, total: 100 },\n        memory: { used: 75, total: 128 },\n        pods: { running: 48, total: 60 },\n        health: {\n          status: 'Healthy',\n          lastCheck: '2024-03-04T10:30:00Z',\n          issues: []\n        }\n      },\n      {\n        id: 'cluster-2',\n        name: 'staging-cluster',\n        provider: 'GKE',\n        status: 'warning',\n        version: '1.24.12',\n        nodes: 3,\n        cpu: { used: 45, total: 60 },\n        memory: { used: 35, total: 64 },\n        pods: { running: 28, total: 40 },\n        health: {\n          status: 'Warning',\n          lastCheck: '2024-03-04T10:30:00Z',\n          issues: ['High memory usage in node-2']\n        }\n      }\n    ]\n  };\n\n  useEffect(() => {\n    // Simulate API call\n    const fetchClusters = async () => {\n      try {\n        // In real implementation, this would be an API call\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        setClusterData({\n          clusters: mockClusterData.clusters,\n          loading: false,\n          error: null\n        });\n      } catch (error) {\n        setClusterData(prev => ({\n          ...prev,\n          loading: false,\n          error: 'Failed to fetch cluster data'\n        }));\n      }\n    };\n\n    fetchClusters();\n  }, []);\n\n  const tabs = [\n    { id: 'clusters', label: 'Clusters', icon: Server },\n    { id: 'namespaces', label: 'Namespaces', icon: Box },\n    { id: 'workloads', label: 'Workloads', icon: Database },\n    { id: 'helm', label: 'Helm Charts', icon: Box },\n    { id: 'rbac', label: 'RBAC', icon: Shield }\n  ];\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'clusters':\n        return <ClusterOverview clusters={clusterData.clusters} />;\n      case 'namespaces':\n        return <NamespaceManager />;\n      case 'workloads':\n        return <WorkloadMonitoring />;\n      case 'helm':\n        return <HelmChartManager />;\n      case 'rbac':\n        return <RBACManager />;\n      default:\n        return <ClusterOverview clusters={clusterData.clusters} />;\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      {/* Tabs Navigation */}\n      <div className=\"mb-6\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {tabs.map((tab) => {\n              const Icon = tab.icon;\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`\n                    group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm\n                    ${activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}\n                  `}\n                >\n                  <Icon className=\"mr-2 h-5 w-5\" />\n                  {tab.label}\n                </button>\n              );\n            })}\n          </nav>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {clusterData.loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <RefreshCw className=\"w-8 h-8 text-blue-500 animate-spin\" />\n          </div>\n        ) : clusterData.error ? (\n          <div className=\"flex items-center justify-center h-64 text-red-500\">\n            <AlertCircle className=\"w-6 h-6 mr-2\" />\n            {clusterData.error}\n          </div>\n        ) : (\n          renderContent()\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default KubernetesDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}